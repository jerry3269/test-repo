<included>

    <!--    spring에서 기본으로 주어지는 console log appender 설정을 불러옴.-->
    <!--    logback-spring.xml 파일을 설정하면 사용자 지정 logback이 사용되기 때문에-->
    <!--    기본으로 설정된 console appender가 동작하지 않음.-->
    <include resource="org/springframework/boot/logging/logback/console-appender.xml"/>

    <!--    console appender를 하나 더 추가함.-->
    <!--    이미 CONSOLE은 console-appender.xml에 정의되어 있으므로 2로 정의-->
    <!--    threshold filter를 이용해 INFO 레벨 이상의 로그만 출력하도록 설정-->
    <!--    level filter를 사용하면 특정 레벨의 로그만 출력 가능-->
    <!--    layout(구버전), encoder(최신버전) 은 출력될 로그의 형식을 지정함-->
    <!--    이 경우 logback-variables.properties에 정의된 LOG_PATTERN 속성을 사용하도록 설정.-->
    <appender name="CONSOLE2" class="ch.qos.logback.core.ConsoleAppender">
        <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
            <level>INFO</level>
        </filter>
        <encoder>
            <pattern>[CONSOLE2] ${LOG_PATTERN}</pattern>
        </encoder>
    </appender>

    <!--    전역 로그 레벨 설정-->
    <!--    appender에 따로 레벨을 지정하지 않으면 root level이 적용됨.-->
    <!--    또한 appender-ref에 appender를 지정하지 않으면 해당 appender는 동작하지 않음.-->
    <root level="DEBUG">
        <appender-ref ref="CONSOLE2"/>
    </root>

</included>